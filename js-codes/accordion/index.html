<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<style>
	.accordion {
		background: pink;
	}

	.accordion .header {
		padding: 20px;
	}

	.accordion .body {
		overflow: hidden;
		transition: 0.3s;
	}

	.accordion .inner-content {
		padding: 20px;
	}
</style>

<body>
	<div class="accordion">
		<div class="header">
			sdsadasd
		</div>
		<div class="body">
			<div class="inner-content">
				sadsadsad dsfk ds;lfk ;ldskfdslkfkl;
			</div>
		</div>
	</div>
</body>
<script>
	const accordions = document.querySelectorAll('.accordion');

	accordions.forEach((accordion) => {
		accordion.querySelector('.body').style.height = '0px';

		accordion.querySelector('.header').addEventListener('click', () => {
			if (accordion.classList.contains('opened')) {
				accordion.classList.remove('opened');
				accordion.querySelector('.body').style.height = `${accordion.querySelector('.body').scrollHeight}px`;
				setTimeout(() => {
					accordion.querySelector('.body').style.height = '0px';
				}, 10);
			} else {
				accordion.classList.add('opened');
				accordion.querySelector('.body').style.height = `${accordion.querySelector('.body').scrollHeight}px`;
			}
		});


		accordion.querySelector('.body').addEventListener('transitionend', (event) => {
			if (event.propertyName === 'height' && event.target.parentNode.classList.contains('opened')) {

				console.log('Анімація висоти завершена!');
				event.target.style.removeProperty('height');
			}
		});
	});



</script>

</html>