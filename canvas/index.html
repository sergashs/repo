<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<style>
	html,
	body {
		margin: 0;
		padding: 0;
	}

	canvas {
		display: block;
	}
</style>

<body>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/p5@1.3.1/lib/addons/p5.sound.js"></script>
	<script>
		let mic, fft;

		function setup() {
			createCanvas(window.innerWidth, window.innerHeight);
			noFill();

			mic = new p5.AudioIn();
			mic.start();
			fft = new p5.FFT();
			fft.setInput(mic);
		}

		function draw() {
			background(200);

			let spectrum = fft.analyze();

			beginShape();
			for (i = 0; i < spectrum.length; i++) {
				vertex(i, map(spectrum[i], 0, 255, height, 0));
			}
			endShape();
		}

	</script>
</body>

</html>